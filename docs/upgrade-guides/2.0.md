---
title: "Upgrade to 2.0"
menu:
  main:
    parent: "upgrade-guides"
---

Version 2.0 of Timber removes a lot of deprecated code and tries to make naming of functions and filter more consistent. 

## Namespaced class names

Namespaced class names were already introduced in version 1.0. Up until now, you could still the use the old, non-namespaced class names. Only namespaced class names are used now. In version 2.0, we removed the following class aliases:

- `TimberArchives`, use `Timber\Archives` instead
- `TimberComment`, use `Timber\Comment` instead
- `TimberCore`, use `Timber\Core` instead
- `TimberFunctionWrapper`, use `Timber\FunctionWrapper` instead
- `TimberHelper`, use `Timber\Helper` instead
- `TimberImage`, use `Timber\Image` instead
- `TimberImageHelper`, use `Timber\ImageHelper` instead
- `TimberIntegrations`, use `Timber\Integrations` instead
- `TimberLoader`, use `Timber\Loader` instead
- `TimberMenu`, use `Timber\Menu` instead
- `TimberMenuItem`, use `Timber\MenuItem` instead
- `TimberPost`, use `Timber\Post` instead
- `TimberPostGetter`, use `Timber\PostGetter` instead
- `TimberPostCollection`, use `Timber\PostCollection` instead
- `Timber\PostsCollection`, use `Timber\PostCollection` instead
- `TimberQueryIterator`, use `Timber\QueryIterator` instead
- `TimberRequest`, use `Timber\Request` instead
- `TimberSite`, use `Timber\Site` instead
- `TimberTerm`, use `Timber\Term` instead
- `TimberTermGetter`, use `Timber\TermGetter` instead
- `TimberTheme`, use `Timber\Theme` instead
- `TimberTwig`, use `Timber\Twig` instead
- `TimberURLHelper`, use `Timber\URLHelper` instead
- `TimberUser`, use `Timber\User` instead
- `TimberCommand`, use `Timber\Command` instead
- `Timber_WP_CLI_Command`, use `Timber\Timber_WP_CLI_Command` instead

### Timber\Timber

A special case is the class alias `Timber` for the `Timber\Timber` class. We decided to keep it, because it’s more convenient to write `Timber::render()` instead of `Timber\Timber::render()`.

### Twig

The same goes for classes in Twig. We realized there’s no need to have a «Timber» prefix. We can directly use `Post`, `Image`, `Term` and `User`. The following functions are now deprecated:

- `{{ TimberPost() }}` – use `{{ Post() }}` instead 
- `{{ TimberImage() }}` – use `{{ Image() }}` instead 
- `{{ TimberTerm() }}` – use `{{ Term() }}` instead 
- `{{ TimberUser() }}` – use `{{ User() }}` instead 

## No more static methods to get posts

Before version 2.0, when you wanted to get a collection of posts, the standard way was to use `Timber::get_posts()`, and `Timber::get_post()` to get single posts. These methods are now being deprecated and will be removed in a future version of Timber.

### Use `Timber\Post` instead of `Timber::get_post()`

Instead of using `Timber::get_post()`, you should now use the [`Timber\Post`](https://timber.github.io/docs/reference/timber-post/) class directly to get single posts:

**single.php**

```php
// Figure out post to get from current query
$post = new Timber\Post();

// Pass in a post ID to get a particular post
$post = new Timber\Post( 56 );
```

### Use `PostQuery` instead of `Timber::get_posts()`

Instead of using `Timber::get_posts()`, you should now use the [`Timber\PostQuery`](https://timber.github.io/docs/reference/timber-postquery/) class to get posts:

```php
$args = array(
	'post_type' => 'book',
	'posts_per_page' => 10,
	'post_status' => 'publish',
);

$latest_books = new Timber\PostQuery( $args );
```

You can also use PostQuery in Twig. You can pass in your arguments either as a query string, or define the parameters in an argument hash (in Twig, [key-value arrays are called hashes](https://mijingo.com/blog/key-value-arrays-in-twig), and you use curly braces `{}` instead of brackets `[]` for them).

```twig
{# Query string #}
{% for post in PostQuery({'post_type=post&post_status=publish&posts_per_page=10'}) %}
	<a href="{{ post.link }}">{{ post.title }}</a>
{% endfor %}

{# Hash notation #}
{% for post in PostQuery({
    post_type: 'post',
    post_status: 'publish',
    posts_per_page: 10
}) %}
	<a href="{{ post.link }}">{{ post.title }}</a>
{% endfor %}
```

## Context

The context variables `{{ wp_head }}` and `{{ wp_footer }}` were removed definitely. Use `{{ function('wp_head') }}` and `{{ function('wp_footer') }}` in your Twig template directly.

## Routes

…

## Removed functions

The following functions were removed from the codebase, either because they were already deprecated or because they’re not used anymore.

### Timber\Timber

- `add_route()` - The routes feature was completely removed in 2.0.

### Timber\Site

- `get_link()`, use `{{ site.link }}` instead
- `get_url()`, use `{{ site.link }}` instead

### Timber\Post

- `get_author()` – use `{{ post.author }}` instead
- `get_categories()`  – use `{{ post.categories }}` instead
- `get_category()` – use `{{ post.category }}` instead
- `get_children()` – use `{{ post.children }}` instead
- `get_comment_count()` – use `{{ post.comment_count }}` instead
- `get_comments()` – use `{{ post.comments }}` instead
- `get_content()` – use `{{ post.content }}` instead
- `get_edit_url()` – use `link()` instead
- `get_format()` – use `{{ post.format }}` instead
- `get_image()` – use `{{ TimberImage(post.my_image) }}` instead
- `get_link()` – use `{{ post.link }}` instead
- `get_modified_author()` – use `{{ post.modified_author }}` instead
- `get_modified_date()` – use `{{ post.modified_date }}` instead
- `get_modified_time()` – use `{{ post.modified_time }}` instead
- `get_next()` – use `{{ post.next }}` instead
- `get_pagination()` – use `{{ post.pagination }}` instead
- `get_parent()`  – use `{{ post.parent }}` instead
- `get_path()` – use `{{ post.path }}` instead
- `get_permalink()` – use `{{ post.link }}` instead
- `get_post_id_by_name()`
- `get_post_type()` – use `type()` instead
- `get_prev()` – use `{{ post.prev }}` instead
- `get_tags()` – use `{{ post.tags }}` instead
- `get_terms()` – use `{{ post.term }}` instead
- `get_thumbnail()` – use `{{ post.thumbnail }}` instead
- `get_title()` – use `{{ post.title }}` instead
- `permalink()` – use `{{ post.link }}` instead

### Timber\Term

- `get_children()` – use `{{ term.children }}` instead
- `get_edit_url()` – use `{{ term.edit_link }}` instead
- `get_link()` – use `{{ term.link }}` instead
- `get_meta_field()` – use `{{ term.meta('my_field_name') }}` instead
- `get_path()` – use `{{ term.path }}` instead
- `get_posts()` – use `{% for post in term.posts %}` instead
- `update()`

### Timber\Image

- `get_src()` – use `{{ image.src }}` instead
- `get_url()` – use `{{ image.src }}` instead
- `url()` – use `{{ image.src }}` instead

### Timber\MenuItem

- `get_link()` – use `{{ item.link }}` instead
- `get_path()` – use `{{ item.path }}` instead
- `permalink()` – use `{{ item.link }}` instead

### Timber\User

- `get_meta()` – use `{{ user.meta('my_field_name') }}` instead
- `get_meta_field()` – use `{{ user.meta('my_field_name') }}` instead

### Timber\Helper

- `function_wrapper()` – use `{{ function( 'function_to_call' ) }}` instead
- `trim_words()` – use `TextHelper::trim_words()` instead
- `close_tags()` – use `TextHelper::close_tags()` instead
- `get_comment_form()` – use `{{ function('comment_form') }}` instead
- `paginate_links()` – use `Pagination::paginate_links()` instead
- `get_current_url()` – use `Timber\URLHelper::get_current_url()` instead

